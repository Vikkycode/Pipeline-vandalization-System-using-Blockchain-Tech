(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[871],{4013:function(e,t,n){Promise.resolve().then(n.bind(n,3850))},3850:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Dashboard}});var i=n(7437),a=n(6578),l=n(9712);n(6337),n(2761);var s=n(1396),r=n.n(s),o=n(3736),c=n(8279),d=n(3046),p=n(2484);n(2265);var u=n(4185),m=n(4288),h=n(1910);let x={mina_niger_state:{name:"mina niger state",latitude:9.6286,longitude:6.52231},mida_niger_state:{name:"mida niger state",latitude:9.08,longitude:6.0094},mapai_niger_state:{name:"mapai niger state",latitude:9.0401,longitude:6.2775},jebba_kwara_state:{name:"jebba kwara state",latitude:9.6152,longitude:6.5569}};function Dashboard(){let e=(0,d.I0)(),{loading:t,tankers:n,total_tankers:s,current_tanker_logs:f,current_tanker_sn:_,notifications:g}=(0,o.s)(),{loading:k,total_pipe_lines:w}=(0,c.C)();return(0,i.jsx)("div",{className:"w-full h-full bg-white overflow-y-scroll visible_thumb_bar",children:(0,i.jsxs)(l.Z,{className:"grid grid-rows-[200px_380px_390px] grid-cols-[1fr_1fr_1fr_1fr_1fr_1fr_1fr_1fr_1fr_1fr_1fr_1fr] gap-[16px] pt-[24px] pb-16",children:[(0,i.jsxs)("div",{className:"col-start-[1] col-end-[7] row-start-[1] row-end-[2] bg-[#800E80] text-white px-[20px] flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)("h2",{className:"text-[32px] font-[700]",children:"Active Trackers"}),(0,i.jsx)("p",{className:"text-[16px] font-[700]",children:"Total number of trackers"})]}),t?(0,i.jsx)("span",{className:"text-[32px] font-[700]",children:(0,i.jsx)(m.Z,{w:25,h:25})}):(0,i.jsx)("span",{className:"text-[32px] font-[700]",children:s})]}),(0,i.jsxs)("div",{className:"col-start-[7] col-end-[13] row-start-[1] row-end-[2] bg-[#800E80] text-white px-[20px] flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)("h2",{className:"text-[32px] font-[700]",children:"Active Pipelines"}),(0,i.jsx)("p",{className:"text-[16px] font-[700]",children:"Total number of pipelines"})]}),k?(0,i.jsx)("span",{className:"text-[32px] font-[700]",children:(0,i.jsx)(m.Z,{w:25,h:25})}):(0,i.jsx)("span",{className:"text-[32px] font-[700]",children:w})]}),(0,i.jsxs)("div",{className:"col-start-[1] col-end-[9] row-start-[2] row-end-[3] bg-[#800E80] flex flex-col gap-[16px] items-center pt-3",children:[(0,i.jsxs)("h2",{className:"w-[90%] flex gap-2 items-center text-white text-[16px] font-[400]",children:["Log - Tanker - ",_,(0,i.jsx)("span",{className:"w-[20px] h-[20px]",children:(0,i.jsx)(a.Z,{})})]}),(0,i.jsx)("div",{className:"w-[90%] h-[85%] overflow-y-scroll visible_thumb_bar",children:t?(0,i.jsx)("div",{className:"w-full h-full pt-10 flex items-start justify-center text-white",children:(0,i.jsx)(m.Z,{w:50,h:50})}):(0,i.jsxs)("table",{className:"w-full h-[".concat(10*(null==f?void 0:f.length),"em]"),children:[(0,i.jsx)("thead",{className:"bg-white",children:(0,i.jsxs)("tr",{className:"text-[16px]",children:[(0,i.jsx)("th",{children:"Tank level(M3)"}),(0,i.jsx)("th",{children:"Gps-coordinate"}),(0,i.jsx)("th",{children:"Location Name"}),(0,i.jsx)("th",{children:"Date"}),(0,i.jsx)("th",{children:"Time"})]})}),(0,i.jsx)("tbody",{children:null==f?void 0:f.map((e,t)=>{var n,a,l,s;return(0,i.jsxs)("tr",{className:"text-white text-[14px] text-center font[400]",children:[(0,i.jsx)("td",{children:null==e?void 0:e.pms_level}),(0,i.jsx)("td",{children:"".concat(null==e?void 0:e.lat," - ").concat(null==e?void 0:e.lng)}),(0,i.jsx)("td",{children:function(e,t){for(let n of Object.values(x)){let i,a;if((e==n.latitude||e-n<=.01)&&(i=!0),(t==n.longitude||t-n<=.01)&&(a=!0),i&&a)return n.name;return"searching..."}}(Number(e.lat),Number(e.lng))}),(0,i.jsx)("td",{children:"".concat(new Date(null==e?void 0:e.Timestamp).toDateString())}),(0,i.jsx)("td",{children:"".concat((a=(n=new Date(null==e?void 0:e.Timestamp)).getHours(),l=n.getMinutes(),s=a>=12?"pm":"am",a%=12,(a=a||12)+":"+(l=l<10?"0"+l:l)+" "+s))})]},t)})})]})})]}),(0,i.jsxs)("div",{className:"col-start-[9] col-end-[13] row-start-[2] row-end-[3] bg-[#800E80] flex flex-col gap-[16px]",children:[(0,i.jsx)("h2",{className:"w-[80%] ml-auto text-white text-[16px] font-[700] pt-3",children:"Devices"}),(0,i.jsx)("div",{className:"w-[80%] h-[85%] ml-auto pr-2 overflow-y-scroll visible_thumb_bar",children:t?(0,i.jsx)("div",{className:"w-full h-full pt-10 flex items-start justify-center text-white",children:(0,i.jsx)(m.Z,{w:50,h:50})}):(0,i.jsx)("ul",{className:"flex flex-col gap-[16px] h-[fit-content]",children:null==n?void 0:n.map((t,n)=>(0,i.jsxs)("div",{onClick:()=>e((0,p.c3)(t.sn)),className:"flex items-center justify-between rounded-md py-2 px-1 ".concat(_==(null==t?void 0:t.sn)?"text-black bg-white":"text-white bg-transparent"," hover:text-black hover:bg-white cursor-pointer"),children:[(0,i.jsxs)("span",{className:"text-[16px] font-[400]",children:[" ","Tanker - ".concat(t.sn)]}),(0,i.jsx)("span",{className:"text-[10px] font-[700]",children:"tanker"})]},n))})})]}),(0,i.jsxs)("div",{className:"col-start-[1] col-end-[5] row-start-[3] row-end-[4] bg-[#800E80] flex flex-col gap-[16px]",children:[(0,i.jsx)(r(),{href:"/admin/dashboard/notification",children:(0,i.jsx)("h2",{className:"w-[80%] ml-auto text-white text-[16px] font-[700] pt-3",children:"Notifications"})}),(0,i.jsx)("div",{className:"w-[95%] h-[85%] mx-auto overflow-y-scroll visible_thumb_bar",children:(0,i.jsx)("ul",{className:"w-full flex flex-col gap-[16px] h-[fit-content]",children:g.map((e,t)=>{var n;return(0,i.jsx)("div",{className:"w-full flex items-center justify-between text-white",children:(0,i.jsxs)("div",{className:"flex items-center gap-2 w-full",children:[(0,i.jsx)("span",{className:"w-[20px] h-[20px]",children:(null==e?void 0:null===(n=e.toString())||void 0===n?void 0:n.includes("Pipe_line"))?(0,i.jsx)(h.Z,{}):(0,i.jsx)(u.Z,{})}),(0,i.jsxs)("span",{className:"text-[14px] font-[400] block w-full pl-1",children:[" ",e]})]})},t)})})})]}),(0,i.jsxs)("div",{className:"col-start-[5] col-end-[9] row-start-[3] row-end-[4] relative",children:[(0,i.jsx)("iframe",{className:"w-full h-full",src:"https://191.dinamix.tech/map/pipe_line/index.php"}),(0,i.jsxs)("div",{className:"absolute bottom-[16px] left-[16px] z-[2] bg-[#800E80] grid grid-cols-[15px_auto] grid-rows-[15px_auto] gap-[1px]",children:[(0,i.jsx)("span",{className:"bg-white w-full h-full flex items-center justify-center",children:(0,i.jsx)("span",{className:"bg-[#03A9F5] w-[12px] h-[12px]"})}),(0,i.jsx)("span",{className:"bg-white w-full h-full flex items-center justify-center",children:"Flow Rate"}),(0,i.jsx)("span",{className:"bg-white w-full h-full flex items-center justify-center",children:(0,i.jsx)("span",{className:"bg-[#000] w-[12px] h-[12px]"})}),(0,i.jsx)("span",{className:"bg-white w-full h-full flex items-center justify-center",children:"Vibration"})]})]}),(0,i.jsx)("div",{className:"col-start-[9] col-end-[13] row-start-[3] row-end-[4] relative",children:(0,i.jsx)("iframe",{className:"w-full h-full",src:"https://191.dinamix.tech/map/tanker/index.php"})})]})})}},4185:function(e,t,n){"use strict";n.d(t,{Z:function(){return Bus}});var i=n(7437);function Bus(){return(0,i.jsxs)("svg",{className:"w-[24px] h-[24px]",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{d:"M16 3H1V16H16V3Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M16 8H20L23 11V16H16V8Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M5.5 21C6.88071 21 8 19.8807 8 18.5C8 17.1193 6.88071 16 5.5 16C4.11929 16 3 17.1193 3 18.5C3 19.8807 4.11929 21 5.5 21Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M18.5 21C19.8807 21 21 19.8807 21 18.5C21 17.1193 19.8807 16 18.5 16C17.1193 16 16 17.1193 16 18.5C16 19.8807 17.1193 21 18.5 21Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}},6578:function(e,t,n){"use strict";n.d(t,{Z:function(){return Chevron_Down}});var i=n(7437);function Chevron_Down(){return(0,i.jsx)("svg",{className:"w-full h-full",viewBox:"0 0 20 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M5 8.36377L10 13.3638L15 8.36377",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}},1910:function(e,t,n){"use strict";var i=n(7437);t.Z=()=>(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",className:"bi bi-align-center w-full h-full",viewBox:"0 0 16 16",children:(0,i.jsx)("path",{d:"M8 1a.5.5 0 0 1 .5.5V6h-1V1.5A.5.5 0 0 1 8 1m0 14a.5.5 0 0 1-.5-.5V10h1v4.5a.5.5 0 0 1-.5.5M2 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1z"})})},4288:function(e,t,n){"use strict";var i=n(7437);t.Z=e=>{let{w:t,h:n}=e;return(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:n,fill:"currentColor",className:"bi bi-arrow-clockwise animate-spin",viewBox:"0 0 16 16",children:[(0,i.jsx)("path",{fillRule:"evenodd",d:"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2z"}),(0,i.jsx)("path",{d:"M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466"})]})}},9712:function(e,t,n){"use strict";n.d(t,{Z:function(){return Container}});var i=n(7437);function Container(e){let{children:t,className:n}=e;return(0,i.jsx)("div",{className:"max-sm:w-[98%] w-[95%] h-full mx-auto ".concat(n),children:t})}},8494:function(e,t,n){"use strict";n.d(t,{L:function(){return i}});let i="http://localhost:3002/api"},2761:function(e,t,n){"use strict";n.d(t,{TD:function(){return a}}),n(7437);var i=n(4185);let a=[{tank_level:2754,gps_coordinate:"Lat-9535495 Lan- 6.45167",location_name:"Checking",time:"02:36pm",date:"22 April, 2023",origin:"Minna",destination:"Diko Depot",PMS_quantity:2e3},{tank_level:2754,gps_coordinate:"Lat-9535495 Lan- 6.45167",location_name:"Checking",time:"02:36pm",date:"22 April, 2023",origin:"Minna",destination:"Diko Depot",PMS_quantity:2e3},{tank_level:2754,gps_coordinate:"Lat-9535495 Lan- 6.45167",location_name:"Checking",time:"02:36pm",date:"22 April, 2023",origin:"Minna",destination:"Diko Depot",PMS_quantity:2e3},{tank_level:2754,gps_coordinate:"Lat-9535495 Lan- 6.45167",location_name:"Checking",time:"02:36pm",date:"22 April, 2023",origin:"Minna",destination:"Diko Depot",PMS_quantity:2e3},{tank_level:2754,gps_coordinate:"Lat-9535495 Lan- 6.45167",location_name:"Checking",time:"02:36pm",date:"22 April, 2023",origin:"Minna",destination:"Diko Depot",PMS_quantity:2e3},{tank_level:2754,gps_coordinate:"Lat-9535495 Lan- 6.45167",location_name:"Checking",time:"02:36pm",date:"22 April, 2023",origin:"Minna",destination:"Diko Depot",PMS_quantity:2e3},{tank_level:2754,gps_coordinate:"Lat-9535495 Lan- 6.45167",location_name:"Checking",time:"02:36pm",date:"22 April, 2023",origin:"Minna",destination:"Diko Depot",PMS_quantity:2e3},{tank_level:2754,gps_coordinate:"Lat-9535495 Lan- 6.45167",location_name:"Checking",time:"02:36pm",date:"22 April, 2023",origin:"Minna",destination:"Diko Depot",PMS_quantity:2e3},{tank_level:2754,gps_coordinate:"Lat-9535495 Lan- 6.45167",location_name:"Checking",time:"02:36pm",date:"22 April, 2023",origin:"Minna",destination:"Diko Depot",PMS_quantity:2e3},{tank_level:2754,gps_coordinate:"Lat-9535495 Lan- 6.45167",location_name:"Checking",time:"02:36pm",date:"22 April, 2023",origin:"Minna",destination:"Diko Depot",PMS_quantity:2e3},{tank_level:2754,gps_coordinate:"Lat-9535495 Lan- 6.45167",location_name:"Checking",time:"02:36pm",date:"22 April, 2023",origin:"Minna",destination:"Diko Depot",PMS_quantity:2e3},{tank_level:2754,gps_coordinate:"Lat-9535495 Lan- 6.45167",location_name:"Checking",time:"02:36pm",date:"22 April, 2023",origin:"Minna",destination:"Diko Depot",PMS_quantity:2e3},{tank_level:2754,gps_coordinate:"Lat-9535495 Lan- 6.45167",location_name:"Checking",time:"02:36pm",date:"22 April, 2023",origin:"Minna",destination:"Diko Depot",PMS_quantity:2e3},{tank_level:2754,gps_coordinate:"Lat-9535495 Lan- 6.45167",location_name:"Checking",time:"02:36pm",date:"22 April, 2023",origin:"Minna",destination:"Diko Depot",PMS_quantity:2e3},{tank_level:2754,gps_coordinate:"Lat-9535495 Lan- 6.45167",location_name:"Checking",time:"02:36pm",date:"22 April, 2023",origin:"Minna",destination:"Diko Depot",PMS_quantity:2e3},{tank_level:2754,gps_coordinate:"Lat-9535495 Lan- 6.45167",location_name:"Checking",time:"02:36pm",date:"22 April, 2023",origin:"Minna",destination:"Diko Depot",PMS_quantity:2e3},{tank_level:2754,gps_coordinate:"Lat-9535495 Lan- 6.45167",location_name:"Checking",time:"02:36pm",date:"22 April, 2023",origin:"Minna",destination:"Diko Depot",PMS_quantity:2e3},{tank_level:2754,gps_coordinate:"Lat-9535495 Lan- 6.45167",location_name:"Checking",time:"02:36pm",date:"22 April, 2023",origin:"Minna",destination:"Diko Depot",PMS_quantity:2e3},{tank_level:2754,gps_coordinate:"Lat-9535495 Lan- 6.45167",location_name:"Checking",time:"02:36pm",date:"22 April, 2023",origin:"Minna",destination:"Diko Depot",PMS_quantity:2e3},{tank_level:2754,gps_coordinate:"Lat-9535495 Lan- 6.45167",location_name:"Checking",time:"02:36pm",date:"22 April, 2023",origin:"Minna",destination:"Diko Depot",PMS_quantity:2e3},{tank_level:2754,gps_coordinate:"Lat-9535495 Lan- 6.45167",location_name:"Checking",time:"02:36pm",date:"22 April, 2023",origin:"Minna",destination:"Diko Depot",PMS_quantity:2e3},{tank_level:2754,gps_coordinate:"Lat-9535495 Lan- 6.45167",location_name:"Checking",time:"02:36pm",date:"22 April, 2023",origin:"Minna",destination:"Diko Depot",PMS_quantity:2e3}];i.Z,i.Z,i.Z,i.Z,i.Z,i.Z,i.Z,i.Z,i.Z,i.Z,i.Z,i.Z,i.Z},6337:function(e,t,n){"use strict";n.d(t,{n:function(){return i}});let i=[{name:"dashboard",href:"/admin/dashboard"},{name:"log",href:"/admin/log",sub_links:[{name:"tracker",href:"/admin/log_tracker"},{name:"pipeline",href:"/admin/log_pipeline"}]},{name:"profile",href:"/admin/profile"},{name:"blockchain",href:"/admin/blockchain"},{name:"maps",href:"/admin/maps",sub_links:[{name:"tanker",href:"/admin/maps/tanker"},{name:"pipeline",href:"/admin/maps/pipeline"}]}]},8279:function(e,t,n){"use strict";n.d(t,{C:function(){return pipe_lines_selectors}}),n(2265);var i=n(3046);function pipe_lines_selectors(){let{pipe_lines:e,loading:t,total_pipe_lines:n,current_pipe_line_logs:a,current_pipe_line_sn:l}=(0,i.v9)(e=>e.pipe_lines);return{pipe_lines:e,loading:t,total_pipe_lines:n,current_pipe_line_sn:l,current_pipe_line_logs:a}}},3736:function(e,t,n){"use strict";n.d(t,{s:function(){return tankers_selectors}}),n(2265);var i=n(3046);function tankers_selectors(){let{tankers:e,loading:t,total_tankers:n,current_tanker_logs:a,current_tanker_sn:l,notifications:s}=(0,i.v9)(e=>e.tankers);return{tankers:e,loading:t,total_tankers:n,current_tanker_logs:a,current_tanker_sn:l,notifications:s}}},2484:function(e,t,n){"use strict";n.d(t,{$0:function(){return u},$X:function(){return o},Pp:function(){return c},c3:function(){return _},d:function(){return d},lP:function(){return p},pP:function(){return m},pr:function(){return f},qR:function(){return g},vs:function(){return h}});var i=n(8494),a=n(3135),l=n(5687),s=n(329);let r=(0,a.oM)({name:"tanker",initialState:{tankers:[],loading:!1,total_tankers:null,current_tanker_sn:null,current_tanker_logs:[],notifications:[]},reducers:{set_tankers:(e,t)=>{e.tankers=t.payload},set_loading:(e,t)=>{e.loading=t.payload},set_total_tankers:(e,t)=>{e.total_tankers=t.payload},set_current_tanker_sn:(e,t)=>{e.current_tanker_sn=t.payload},set_current_tanker_logs:(e,t)=>{e.current_tanker_logs=t.payload},set_notifications:(e,t)=>{e.notifications=t.payload}}}),o=(0,l.LC)({reducerPath:"tankers_api",baseQuery:(0,s.ni)({baseUrl:"".concat(i.L,"/dashboard/tankers"),credentials:"include",next:{revalidate:60}}),endpoints:e=>({get_all_tankers:e.query({query:()=>"/all"}),get_tanker:e.query({query:e=>"/".concat(e)}),check_tanker_pms_level:e.query({query:e=>"/".concat(e,"/pms_level")})})}),{useGet_all_tankersQuery:c,useGet_tankerQuery:d,useCheck_tanker_pms_levelQuery:p}=o,{set_loading:u,set_tankers:m,set_total_tankers:h,set_current_tanker:x,set_current_tanker_logs:f,set_current_tanker_sn:_,set_notifications:g}=r.actions;t.ZP=r.reducer}},function(e){e.O(0,[771,687,847,971,472,744],function(){return e(e.s=4013)}),_N_E=e.O()}]);