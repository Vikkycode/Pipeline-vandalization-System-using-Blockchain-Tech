(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[458],{2310:function(e,t,n){Promise.resolve().then(n.bind(n,4684))},4684:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Profile}});var i=n(7437),s=n(6578),r=n(9712);n(393);var l=n(2265);n(1396);var a=n(3046),o=n(3179),A=n(8484),u=n(4288),c=n(5221),d=n(4033);function Profile(){let{admin:e,loading:t}=function(){let{admin:e,loading:t}=(0,a.v9)(e=>e.admin);return{admin:e,loading:t}}();(0,a.I0)();let n=(0,d.useRouter)(),[x,{isLoading:p,error:g,data:h}]=(0,o.AB)(),[f,{isLoading:m}]=(0,c._y)(),[b,w]=(0,l.useState)(!1),[E,j]=(0,l.useState)(!1),[v,C]=(0,l.useState)({password:null==e?void 0:e.password,region:null==e?void 0:e.region,bio:null==e?void 0:e.bio,lang:null==e?void 0:e.lang}),{bio:N,password:y,region:_,lang:Q}=v,on_change=e=>{e.preventDefault(),C(t=>({...t,[e.target.name]:e.target.value}))},update_profile=async()=>{let e=await x(v),{error:t,data:n}=e;if(t){let{msg:e,code:n}=t.data;(0,A.V)({code:n,msg:e})}if(n){let{msg:e,code:t}=n;(0,A.V)({code:t,msg:e}),j(!1)}},commit_logout=async()=>{let e=await f({}),{error:t,data:i}=e;if(t){let{msg:e,code:n}=t.data;(0,A.V)({code:n,msg:e})}if(i){let{msg:e,code:t}=i;(0,A.V)({code:t,msg:e}),token||n.replace("/login")}};return(0,i.jsx)("div",{className:"w-full h-[90vh]",children:(0,i.jsxs)(r.Z,{className:"grid grid-cols-[8fr_4fr] gap-[16px] pt-1",children:[(0,i.jsxs)("div",{className:"w-full col-start-[1] col-end-[2] flex flex-col gap-[72px] p-[16px] border-r-[1px] border-r-[#800E80] border-b-[1px] border-b-[#800E80]",children:[(0,i.jsxs)("div",{className:"w-full flex items-center justify-between",children:[t?(0,i.jsx)("div",{className:"w-[100px] h-[100px] rounded-full cursor-pointer border-[1px]  border-white flex items-center justify-center",children:(0,i.jsx)(u.Z,{w:100,h:100})}):(0,i.jsx)("span",{className:"w-[100px] h-[100px] rounded-full object-cover mr-3 cursor-pointer border-[1px]  border-[#800E80] text-[2.5rem] text-[#800E80] flex items-center justify-center",alt:"",children:function(e){let t=null==e?void 0:e.split(" "),n="";for(let e=0;e<(null==t?void 0:t.length);e++){var i;(null===(i=t[e])||void 0===i?void 0:i.length)>0&&(n+=t[e][0])}return n}(null==e?void 0:e.full_name)||"..."}),(0,i.jsxs)("div",{className:"flex flex-col gap-1 w-[fit-content] mt-auto mr-auto",children:[(0,i.jsx)("h2",{className:"text-[24px] font-[700] text-[#800E80]",children:null==e?void 0:e.full_name}),(0,i.jsxs)("div",{className:"text-[16px] font-[400]",children:[(0,i.jsxs)("span",{className:"text-black",children:[(null==e?void 0:e.full_name)||"..."," -"]}),(0,i.jsx)("span",{className:"text-[#800E80]",children:"Administration"})]})]}),E?(0,i.jsxs)("div",{className:"flex gap-1 w-[fit-content] h-[fitcontent]",children:[(0,i.jsx)("button",{onClick:()=>j(!1),className:"flex items-center justify-center py-1 px-5 rounded-[4px] bg-[#800E80] text-white active:scale-[0.9]",children:"Discard changes"}),(0,i.jsx)(i.Fragment,{children:p?(0,i.jsx)("div",{className:"flex items-center justify-center py-1 px-5 rounded-[4px] bg-[#800E80] text-white active:scale-[0.9]",children:(0,i.jsx)(u.Z,{w:15,h:15})}):(0,i.jsx)("button",{onClick:()=>update_profile(),className:"flex items-center justify-center py-1 px-5 rounded-[4px] bg-[#800E80] text-white active:scale-[0.9]",children:"Save changes"})})]}):(0,i.jsx)("button",{onClick:()=>j(!0),className:"flex items-center justify-center py-1 px-5 rounded-[4px] bg-[#800E80] text-white active:scale-[0.9]",children:"Edit profile"})]}),(0,i.jsxs)("div",{className:"flex flex-col gap-[16px] w-[70%]",children:[(0,i.jsxs)("div",{className:"w-full flex items-center justify-between gap-[20px]",children:[(0,i.jsx)("span",{className:"text-[16px] font-[700] text-[#800E80]",children:"Admin number:"}),(0,i.jsx)("span",{className:"w-[70%] text-[#800E80] text-[14px] text-[400] pb-2 border-b-[1px] border-b-[#800E80]",children:(null==e?void 0:e.admin_number)||"..."})]}),(0,i.jsxs)("div",{className:"w-full flex items-center justify-between gap-[20px]",children:[(0,i.jsx)("span",{className:"text-[16px] font-[700] text-[#800E80]",children:"Password:"}),E?(0,i.jsx)("input",{value:y,onChange:on_change,name:"password",className:"w-[70%] text-[#800E80] text-[14px] text-[400] pb-2 border-b-[1px] border-b-[#800E80] outline-[#800E80] outline-[1px] focus:outline-[#800E80] focus:outline-[1px]",placeholder:"Change your password"}):(0,i.jsx)("span",{className:"w-[70%] text-[#800E80] text-[14px] text-[400] pb-2 border-b-[1px] border-b-[#800E80]",children:(null==e?void 0:e.password)||"..."})]}),(0,i.jsxs)("div",{className:"w-full flex items-center justify-between gap-[20px]",children:[(0,i.jsx)("span",{className:"text-[16px] font-[700] text-[#800E80]",children:"Region:"}),E?(0,i.jsx)("input",{value:_,onChange:on_change,name:"region",className:"w-[70%] text-[#800E80] text-[14px] text-[400] pb-2 border-b-[1px] border-b-[#800E80] outline-[#800E80] outline-[1px] focus:outline-[#800E80] focus:outline-[1px]",placeholder:"Change your region"}):(0,i.jsx)("span",{className:"w-[70%] text-[#800E80] text-[14px] text-[400] pb-2 border-b-[1px] border-b-[#800E80]",children:(null==e?void 0:e.region)||"..."})]}),(0,i.jsxs)("div",{className:"w-full flex items-center justify-between gap-[20px]",children:[(0,i.jsx)("span",{className:"text-[16px] font-[700] text-[#800E80]",children:"Language:"}),E?(0,i.jsx)("input",{value:Q,onChange:on_change,name:"lang",className:"w-[70%] text-[#800E80] text-[14px] text-[400] pb-2 border-b-[1px] border-b-[#800E80] outline-[#800E80] outline-[1px] focus:outline-[#800E80] focus:outline-[1px]",placeholder:"Change your language"}):(0,i.jsx)("span",{className:"w-[70%] text-[#800E80] text-[14px] text-[400] pb-2 border-[1px] border-[#800E80] pl-1",children:(null==e?void 0:e.lang)||"..."})]}),(0,i.jsxs)("div",{className:"w-full flex items-center justify-between gap-[20px]",children:[(0,i.jsx)("span",{className:"text-[16px] font-[700] text-[#800E80]",children:"Bio:"}),E?(0,i.jsx)("input",{value:N,onChange:on_change,name:"bio",className:"w-[70%] text-[#800E80] text-[14px] text-[400] pb-2 border-b-[1px] border-b-[#800E80] outline-[#800E80] outline-[1px] focus:outline-[#800E80] focus:outline-[1px]",placeholder:"Change your bio"}):(0,i.jsx)("div",{className:"w-[70%] text-[#800E80] text-[14px] text-[400] pb-2 border-[1px] border-[#800E80] p-1",children:(null==e?void 0:e.bio)||"..."})]})]})]}),(0,i.jsxs)("div",{className:"col-start-[2] col-end-[3] flex flex-col gap-[16px] p-[16px] items-start border-l-[1px] border-l-[#800E80] border-t-[1px] border-t-[#800E80]",children:[(0,i.jsx)("h2",{className:"text-[20px] text-[#800E80] font-[700]",children:"Settings"}),(0,i.jsxs)("div",{className:"w-[80%] flex flex-col gap-[24px]",children:[(0,i.jsxs)("div",{className:"w-full flex gap-1 items-center cursor-pointer",children:[(0,i.jsx)("span",{className:"text-[#800E80] w-[20px] h-[20px]",children:(0,i.jsx)(s.Z,{})}),(0,i.jsx)("span",{className:"text-[16px] text-[#800E80] font-[400]",children:"Add new tracker device"})]}),(0,i.jsxs)("div",{className:"w-full flex gap-1 items-center justify-between",children:[(0,i.jsx)("span",{className:"text-[16px] text-[#800E80] font-[400]",children:"Mute notification"}),(0,i.jsx)("span",{className:"w-[42px] h-[20px] flex relative bg-[#D7D7D7] border-[1px] border-[#D7D7D7] rounded-[20px]",children:(0,i.jsx)("span",{onClick:()=>w(e=>!e),className:"bg-white absolute z-[2] top-0 w-[20px] h-[100%] active:scale-[0.8] cursor-pointer rounded-full ".concat(b?"left-0":"right-0")})})]}),(0,i.jsx)("a",{href:"/help",className:"text-[16px] text-[#800E80] font-[400]",children:"Help"}),m?(0,i.jsx)("div",{className:"w-[32px] h-[32px] rounded-full cursor-pointer border-[1px]  border-white flex items-center justify-center",children:(0,i.jsx)(u.Z,{w:15,h:15})}):(0,i.jsx)("span",{onClick:()=>commit_logout(),className:"text-[16px] text-[#800E80] font-[400] cursor-pointer",children:"Logout"})]})]})]})})}},6578:function(e,t,n){"use strict";n.d(t,{Z:function(){return Chevron_Down}});var i=n(7437);function Chevron_Down(){return(0,i.jsx)("svg",{className:"w-full h-full",viewBox:"0 0 20 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M5 8.36377L10 13.3638L15 8.36377",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}},4288:function(e,t,n){"use strict";var i=n(7437);t.Z=e=>{let{w:t,h:n}=e;return(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:n,fill:"currentColor",className:"bi bi-arrow-clockwise animate-spin",viewBox:"0 0 16 16",children:[(0,i.jsx)("path",{fillRule:"evenodd",d:"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2z"}),(0,i.jsx)("path",{d:"M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466"})]})}},9712:function(e,t,n){"use strict";n.d(t,{Z:function(){return Container}});var i=n(7437);function Container(e){let{children:t,className:n}=e;return(0,i.jsx)("div",{className:"max-sm:w-[98%] w-[95%] h-full mx-auto ".concat(n),children:t})}},8484:function(e,t,n){"use strict";function show_tooltip(e){let{msg:t,code:n}=e,i=document.createElement("div");i.classList.add("animate__fadeInRight"),i.style.color=200===n||201===n?"green":"red",i.style.position="absolute",i.style.zIndex="10000000",i.style.top="10%",i.style.right="3%",i.style.width="fit-content",i.style.height="fit-content",i.style.border="1px solid gray",i.style.borderRadius="0.5em",i.style.backgroundColor="white",i.style.padding="0.75em 1em",i.textContent=t,document.body.append(i),function(e){let{seconds:t,fn_to_rn:n}=e;setTimeout(()=>n(),1e3*t)}({seconds:3,fn_to_rn:()=>{i.classList.remove("animate__fadeInRight"),document.body.removeChild(i)}})}n.d(t,{V:function(){return show_tooltip}})},8494:function(e,t,n){"use strict";n.d(t,{L:function(){return i}});let i="http://localhost:3002/api"},393:function(e,t,n){"use strict";n.d(t,{W:function(){return i}});let i={tetfund_img:{src:"/_next/static/media/tetfund_img.baf8f502.png",height:22,width:67,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAYAAACuyE5IAAAAbklEQVR4nAFjAJz/AW2BZzDt6u8PppWq3isrKQr7+/0bCAgIyvn5+QkAAAAYATNSObX9+P0V7sbnpAUUBggCAQLx/f39AP3+/hIDAQHwAQAAADoRABMHKVg0AAD+//0GBQYA+Pb3EQUKCO39+vwJazopjkbDOOAAAAAASUVORK5CYII=",blurWidth:8,blurHeight:3},tetfund_co_support_img:{src:"/_next/static/media/tetfund_co_support_img.8fc2884d.png",height:36,width:40,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAYAAAA1WQxeAAAA8klEQVR4nAHnABj/AZR9AADz7U5Z9P0YNN3wL8P4CQ/mNhXARw0B6dwdJbOnAYZoRzzx/CZFwfRZsQL2tfQKBgcBvBJo+ocSg1EL/eTYAYFmS27K7FXWISTk0PfqyyQCAAAABh072ujgGUQ9G7EqAX1lV4DN50bSBQST4yQjSQMDAwMC3Nuz/PIJfhVJIK07AX5fS3Hg8Dn7E097p96rARYCAQD9AlH/7BDAi1QpFL0SAVuCuVEU58ND5ekcp+MCFQYDAgAFHgfz9iMY3VriCznEAQDE/wpfs6RnHOabFPf9KA0CAgIHDAfX9OMSX+SdUmGY2BFiLuo6MtAAAAAASUVORK5CYII=",blurWidth:8,blurHeight:7},map_with_legend:{src:"/_next/static/media/map_with_legend.4e4f02bb.png",height:319,width:461,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAIAAABxZ0isAAAAkUlEQVR42gUAuw6CMPCuFOiVSORl1IXdMPr/qx+gRk0k0U0GavBRS6DF4PV0GDuGzL7NhOAoQASkLOZmNPvLEQzzPYokkR+2T/1KV7xxxWJblfOcfJnH4vv5MYa7WvP7Y4Ap8Xqs1r1SjkLPWbdZSp7NApjsTQ2xgDK1CJG1I4HmibAiDJQ254YBYCE7KUXdDn/jwDzv77hsbAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:6},map_without_legend:{src:"/_next/static/media/map_without_legend.57698504.png",height:319,width:461,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAYAAAD+Bd/7AAAAsUlEQVR42g3NwW6CQBgA4Vn8QWCpbSi2DU2a1PTaU9+6T+JJPXrzgjGaqKAbUVgXydznU/Pp/7ktJfG8EVVn8e0J7UfIMOP1c4y4NmNXbIn1nuLooeyAn6+Ai6lJP+7IaPzMWy7YbsBmnfCdhvxNUg6VYbaqEaUaLnXJwQSYSrMoDcviSmzP5FnYU9Lg3B2HItNXGhfgq5ZJ3t/enxBjYzqlkbDh98XR9UXDiMBPON3gAZueRDh4YUFPAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:6},user:{src:"/_next/static/media/user.1da01c10.jpg",height:200,width:200,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAAgACAMBIgACEQEDEQH/xAAnAAEBAAAAAAAAAAAAAAAAAAAABQEBAAAAAAAAAAAAAAAAAAAABP/aAAwDAQACEAMQAAAAugyP/8QAHRAAAQMFAQAAAAAAAAAAAAAAAQIDBAAUFiGCof/aAAgBAQABPwCRd5CG0LdMpBbOvea//8QAGREAAgMBAAAAAAAAAAAAAAAAAQIAAxFx/9oACAECAQE/ABSNbHccM//EABsRAAIBBQAAAAAAAAAAAAAAAAECAAMRISJB/9oACAEDAQE/AGqWVNVOOif/2Q==",blurWidth:8,blurHeight:8},ethereum_logo:{src:"/_next/static/media/ethereum_logo.8054596a.png",height:360,width:360,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAQAAABuBnYAAAAAc0lEQVR42mMAgQgmEFkCIkEglImBIUEpVYmBoRoilMjMwOCzp3k3A4M3MwMDgxYzEAdr/M/8XxnIwFDCzKDKzMCgF8Xx0P5BTgQDSLUNIwMDA4PLtuZNDAwMDHNBvCAmBoYYwwIDBoYGmD1hzCCyAkQyAAA6vRPhziA4TAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}}},3179:function(e,t,n){"use strict";n.d(t,{$0:function(){return d},AB:function(){return u},CZ:function(){return A},Xi:function(){return c},wo:function(){return o}});var i=n(8494),s=n(3135),r=n(5687),l=n(329);let a=(0,s.oM)({name:"admin",initialState:{admin:null,loading:!1},reducers:{set_admin:(e,t)=>{e.admin=t.payload},set_loading:(e,t)=>{e.loading=t.payload}}}),o=(0,r.LC)({reducerPath:"admin_api",baseQuery:(0,l.ni)({baseUrl:"".concat(i.L,"/dashboard"),credentials:"include"}),endpoints:e=>({get_admin_profile:e.query({query:()=>"/me/account"}),update_admin_profile:e.mutation({query:e=>{let{bio:t,lang:n,password:i,region:s,img:r}=e;return{url:"/me/account/update",method:"PATCH",body:{bio:t,lang:n,password:i,region:s,img:r}}}})})}),{useGet_admin_profileQuery:A,useUpdate_admin_profileMutation:u}=o,{set_admin:c,set_loading:d}=a.actions;t.ZP=a.reducer},5221:function(e,t,n){"use strict";n.d(t,{Bl:function(){return c},LX:function(){return a},YA:function(){return o},_y:function(){return x},tG:function(){return g}});var i=n(8494),s=n(3135),r=n(5687),l=n(329);let a=(0,r.LC)({reducerPath:"authApi",baseQuery:(0,l.ni)({baseUrl:"".concat(i.L,"/auth"),credentials:"include"}),endpoints:e=>({login:e.mutation({query:e=>({url:"/signin",method:"POST",body:e})}),signup:e.mutation({query:e=>({url:"/signup",method:"POST",body:e})}),forgot_password:e.mutation({query:e=>({url:"/forgot_password",method:"POST",body:e})}),confirm_token:e.mutation({query:e=>({url:"/confirm_token",method:"POST",body:e})}),reset_password:e.mutation({query:e=>({url:"/reset_password",method:"POST",body:e})}),logout:e.mutation({query:()=>({url:"/signout",method:"POST"})})})}),{useLoginMutation:o,useConfirm_tokenMutation:A,useForgot_passwordMutation:u,useSignupMutation:c,useReset_passwordMutation:d,useLogoutMutation:x}=a,p=(0,s.oM)({name:"auth",initialState:{token:null,user:null},reducers:{set_token:(e,t)=>{e.token=t.payload},set_user:(e,t)=>{e.user=t.payload}}}),{set_token:g,set_user:h}=p.actions;t.ZP=p.reducer},4033:function(e,t,n){e.exports=n(94)}},function(e){e.O(0,[771,687,847,971,472,744],function(){return e(e.s=2310)}),_N_E=e.O()}]);