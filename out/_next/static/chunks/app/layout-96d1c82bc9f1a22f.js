(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{9263:function(e,n,t){Promise.resolve().then(t.bind(t,188))},188:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return RootLayout}});var r=t(7437),a=t(8416),i=t.n(a);t(2853);var l=t(3046),o=t(3135),u=t(2484),d=t(8494),s=t(5687),c=t(329);let _=(0,o.oM)({name:"pipe_line",initialState:{pipe_lines:[],loading:!1,total_pipe_lines:null,current_pipe_line:null,current_pipe_line_logs:[],current_pipe_line_sn:null},reducers:{set_pipe_lines:(e,n)=>{e.pipe_lines=n.payload},set_loading:(e,n)=>{e.loading=n.payload},set_total_pipe_lines:(e,n)=>{e.total_pipe_lines=n.payload},set_current_pipe_line_logs:(e,n)=>{e.current_pipe_line_logs=n.payload},set_current_pipe_line_sn:(e,n)=>{e.current_pipe_line_sn=n.payload}}}),p=(0,s.LC)({reducerPath:"pipe_lines_api",baseQuery:(0,c.ni)({baseUrl:"".concat(d.L,"/dashboard/pipe_lines"),credentials:"include",next:{revalidate:60}}),endpoints:e=>({get_all_pipe_lines:e.query({query:()=>"/all"}),get_pipe_line:e.query({query:e=>"/".concat(e)}),check_pipe_line_level:e.query({query:e=>"/".concat(e,"/level")})})}),{useGet_all_pipe_linesQuery:v,useGet_pipe_lineQuery:f,useCheck_pipe_line_levelQuery:y}=p,{set_loading:m,set_pipe_lines:h,set_total_pipe_lines:g,set_current_pipe_line_logs:k,set_current_pipe_line_sn:b}=_.actions;var P=_.reducer,q=t(5221),L=t(3179),w=t(4979);let X=(0,o.xC)({reducer:{tankers:u.ZP,pipe_lines:P,auth:q.ZP,admin:L.ZP,blockchain:w.ZP,[u.$X.reducerPath]:u.$X.reducer,[p.reducerPath]:p.reducer,[q.LX.reducerPath]:q.LX.reducer,[L.wo.reducerPath]:L.wo.reducer,[w.XG.reducerPath]:w.XG.reducer},middleware:e=>e().concat(u.$X.middleware,p.middleware,q.LX.middleware,L.wo.middleware,w.XG.middleware)});var C=t(3294),$=t(8279),S=t(3736),x=t(4033),E=t(2265),use_data_fetch=function(e){let{children:n}=e,{tankers:t,current_tanker_sn:a,notifications:i}=(0,S.s)(),{current_pipe_line_sn:o,pipe_lines:d}=(0,$.C)(),{token:s}=(0,C.z)(),c=(0,l.I0)(),_=(0,x.useRouter)(),{isLoading:p,data:P,error:q}=(0,L.CZ)({}),{isLoading:X,error:Z,data:O}=(0,u.Pp)({}),{isLoading:N,error:T,data:A}=v({}),{isLoading:R,data:j,error:G}=(0,w.e3)({}),{isLoading:M,data:Q,error:U}=(0,w.sl)({});(0,E.useEffect)(()=>{var e,n;(0,L.$0)(p);let t=(null==P?void 0:P.admin)||(null==q?void 0:null===(e=q.data)||void 0===e?void 0:e.admin),r=(null==P?void 0:P.code)||(null==q?void 0:null===(n=q.data)||void 0===n?void 0:n.code);(401==r||"401"==r)&&_.replace("/login"),t&&c((0,L.Xi)(t))},[p,P,q,s]),(0,E.useEffect)(()=>{var e,n,t,r,a,i,l;c((0,u.$0)(X)),c((0,u.$0)(N));let o=(null==O?void 0:O.all_tankers)||(null==Z?void 0:null===(e=Z.data)||void 0===e?void 0:e.all_tankers),d=(null==O?void 0:O.amount)||(null==Z?void 0:null===(n=Z.data)||void 0===n?void 0:n.amount),s=(null==A?void 0:A.all_pipe_lines)||(null==T?void 0:null===(t=T.data)||void 0===t?void 0:t.all_pipe_lines),_=(null==A?void 0:A.amount)||(null==T?void 0:null===(r=T.data)||void 0===r?void 0:r.amount);c((0,u.pP)(o)),c((0,u.vs)(d)),c((0,u.c3)(null==o?void 0:null===(a=o[0])||void 0===a?void 0:a.sn)),c(h(s)),c(g(_)),c(b(null==s?void 0:null===(i=s[0])||void 0===i?void 0:i.sn)),(null==A?void 0:A.tanker)||null==T||null===(l=T.data)||void 0===l||l.tanker},[X,Z,O,A,T,N]);let{data:z,error:B,isLoading:D}=(0,u.d)(a),{data:F,error:V,isLoading:H}=f(o);(0,E.useEffect)(()=>{var e;c((0,u.$0)(D));let n=(null==z?void 0:z.tanker)||(null==B?void 0:null===(e=B.data)||void 0===e?void 0:e.tanker);c((0,u.pr)(n))},[t,B,z,D,a]),(0,E.useEffect)(()=>{var e;c(m(H));let n=(null==F?void 0:F.pipe_line)||(null==V?void 0:null===(e=V.data)||void 0===e?void 0:e.pipe_line);c(k(n))},[d,V,F,H,o]);let{isLoading:I,error:Y,data:J}=(0,u.lP)(a),{isLoading:K,error:W,data:ee}=y(o);return(0,E.useEffect)(()=>{var e,n,t,r;let a=(null==J?void 0:J.msg)||(null==Y?void 0:null===(e=Y.data)||void 0===e?void 0:e.msg),l=(null==J?void 0:J.code)||(null==Y?void 0:null===(n=Y.data)||void 0===n?void 0:n.code);200==l&&c((0,u.qR)([...i,a]));let o=(null==ee?void 0:ee.msg)||(null==W?void 0:null===(t=W.data)||void 0===t?void 0:t.msg),d=(null==ee?void 0:ee.code)||(null==W?void 0:null===(r=W.data)||void 0===r?void 0:r.code);200==d&&c((0,u.qR)([...i,o]))},[I,J,Y,K,ee,W]),(0,E.useEffect)(()=>{if((0,w.$0)(R),j){let e=null==j?void 0:j.all_transactions;c((0,w.pD)(e))}},[R,j,G]),(0,E.useEffect)(()=>{(0,w.$0)(M);let e=null==Q?void 0:Q.eth_account,n=null==Q?void 0:Q.code;200==n&&c((0,w.AV)(e))},[M,Q,U]),(0,r.jsx)("div",{children:n})};function RootLayout(e){let{children:n}=e;return(0,r.jsx)("html",{lang:"en",children:(0,r.jsx)("body",{className:i().className,children:(0,r.jsx)(l.zt,{store:X,children:(0,r.jsx)(use_data_fetch,{children:n})})})})}},8494:function(e,n,t){"use strict";t.d(n,{L:function(){return r}});let r="http://localhost:3002/api"},3294:function(e,n,t){"use strict";t.d(n,{z:function(){return auth_selectors}});var r=t(3046);function auth_selectors(){let{token:e}=(0,r.v9)(e=>e.auth);return{token:e}}},8279:function(e,n,t){"use strict";t.d(n,{C:function(){return pipe_lines_selectors}}),t(2265);var r=t(3046);function pipe_lines_selectors(){let{pipe_lines:e,loading:n,total_pipe_lines:t,current_pipe_line_logs:a,current_pipe_line_sn:i}=(0,r.v9)(e=>e.pipe_lines);return{pipe_lines:e,loading:n,total_pipe_lines:t,current_pipe_line_sn:i,current_pipe_line_logs:a}}},3736:function(e,n,t){"use strict";t.d(n,{s:function(){return tankers_selectors}}),t(2265);var r=t(3046);function tankers_selectors(){let{tankers:e,loading:n,total_tankers:t,current_tanker_logs:a,current_tanker_sn:i,notifications:l}=(0,r.v9)(e=>e.tankers);return{tankers:e,loading:n,total_tankers:t,current_tanker_logs:a,current_tanker_sn:i,notifications:l}}},3179:function(e,n,t){"use strict";t.d(n,{$0:function(){return _},AB:function(){return s},CZ:function(){return d},Xi:function(){return c},wo:function(){return u}});var r=t(8494),a=t(3135),i=t(5687),l=t(329);let o=(0,a.oM)({name:"admin",initialState:{admin:null,loading:!1},reducers:{set_admin:(e,n)=>{e.admin=n.payload},set_loading:(e,n)=>{e.loading=n.payload}}}),u=(0,i.LC)({reducerPath:"admin_api",baseQuery:(0,l.ni)({baseUrl:"".concat(r.L,"/dashboard"),credentials:"include"}),endpoints:e=>({get_admin_profile:e.query({query:()=>"/me/account"}),update_admin_profile:e.mutation({query:e=>{let{bio:n,lang:t,password:r,region:a,img:i}=e;return{url:"/me/account/update",method:"PATCH",body:{bio:n,lang:t,password:r,region:a,img:i}}}})})}),{useGet_admin_profileQuery:d,useUpdate_admin_profileMutation:s}=u,{set_admin:c,set_loading:_}=o.actions;n.ZP=o.reducer},5221:function(e,n,t){"use strict";t.d(n,{Bl:function(){return c},LX:function(){return o},YA:function(){return u},_y:function(){return p},tG:function(){return f}});var r=t(8494),a=t(3135),i=t(5687),l=t(329);let o=(0,i.LC)({reducerPath:"authApi",baseQuery:(0,l.ni)({baseUrl:"".concat(r.L,"/auth"),credentials:"include"}),endpoints:e=>({login:e.mutation({query:e=>({url:"/signin",method:"POST",body:e})}),signup:e.mutation({query:e=>({url:"/signup",method:"POST",body:e})}),forgot_password:e.mutation({query:e=>({url:"/forgot_password",method:"POST",body:e})}),confirm_token:e.mutation({query:e=>({url:"/confirm_token",method:"POST",body:e})}),reset_password:e.mutation({query:e=>({url:"/reset_password",method:"POST",body:e})}),logout:e.mutation({query:()=>({url:"/signout",method:"POST"})})})}),{useLoginMutation:u,useConfirm_tokenMutation:d,useForgot_passwordMutation:s,useSignupMutation:c,useReset_passwordMutation:_,useLogoutMutation:p}=o,v=(0,a.oM)({name:"auth",initialState:{token:null,user:null},reducers:{set_token:(e,n)=>{e.token=n.payload},set_user:(e,n)=>{e.user=n.payload}}}),{set_token:f,set_user:y}=v.actions;n.ZP=v.reducer},4979:function(e,n,t){"use strict";t.d(n,{$0:function(){return _},AV:function(){return p},XG:function(){return u},e3:function(){return d},pD:function(){return c},sl:function(){return s}});var r=t(8494),a=t(3135),i=t(5687),l=t(329);let o=(0,a.oM)({name:"blockchain",initialState:{transactions:[],loading:!1,eth_account_number:null},reducers:{set_transactions:(e,n)=>{e.transactions=n.payload},set_loading:(e,n)=>{e.loading=n.payload},set_eth_number:(e,n)=>{e.eth_account_number=n.payload}}}),u=(0,i.LC)({reducerPath:"blockchain_api",baseQuery:(0,l.ni)({baseUrl:"".concat(r.L,"/dashboard/blockchain/transactions"),credentials:"include",next:{revalidate:60}}),endpoints:e=>({get_all_transactions:e.query({query:()=>"/all"}),get_eth_account:e.query({query:()=>"/eth_account"})})}),{useGet_all_transactionsQuery:d,useGet_eth_accountQuery:s}=u,{set_transactions:c,set_loading:_,set_eth_number:p}=o.actions;n.ZP=o.reducer},2484:function(e,n,t){"use strict";t.d(n,{$0:function(){return _},$X:function(){return u},Pp:function(){return d},c3:function(){return m},d:function(){return s},lP:function(){return c},pP:function(){return p},pr:function(){return y},qR:function(){return h},vs:function(){return v}});var r=t(8494),a=t(3135),i=t(5687),l=t(329);let o=(0,a.oM)({name:"tanker",initialState:{tankers:[],loading:!1,total_tankers:null,current_tanker_sn:null,current_tanker_logs:[],notifications:[]},reducers:{set_tankers:(e,n)=>{e.tankers=n.payload},set_loading:(e,n)=>{e.loading=n.payload},set_total_tankers:(e,n)=>{e.total_tankers=n.payload},set_current_tanker_sn:(e,n)=>{e.current_tanker_sn=n.payload},set_current_tanker_logs:(e,n)=>{e.current_tanker_logs=n.payload},set_notifications:(e,n)=>{e.notifications=n.payload}}}),u=(0,i.LC)({reducerPath:"tankers_api",baseQuery:(0,l.ni)({baseUrl:"".concat(r.L,"/dashboard/tankers"),credentials:"include",next:{revalidate:60}}),endpoints:e=>({get_all_tankers:e.query({query:()=>"/all"}),get_tanker:e.query({query:e=>"/".concat(e)}),check_tanker_pms_level:e.query({query:e=>"/".concat(e,"/pms_level")})})}),{useGet_all_tankersQuery:d,useGet_tankerQuery:s,useCheck_tanker_pms_levelQuery:c}=u,{set_loading:_,set_tankers:p,set_total_tankers:v,set_current_tanker:f,set_current_tanker_logs:y,set_current_tanker_sn:m,set_notifications:h}=o.actions;n.ZP=o.reducer},2853:function(){},8416:function(e){e.exports={style:{fontFamily:"'__Lora_11742b', '__Lora_Fallback_11742b'",fontStyle:"normal"},className:"__className_11742b"}},4033:function(e,n,t){e.exports=t(94)}},function(e){e.O(0,[771,687,971,472,744],function(){return e(e.s=9263)}),_N_E=e.O()}]);